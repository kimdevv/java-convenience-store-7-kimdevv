# 프리코스 4주차 미션 - 편의점

해당 프로그램은 고객이 **편의점에서 물건을 구입하는 상황을 시뮬레이션**합니다. 고객이 편의점에 입장하면 편의점은 현재 보유중인 재고 목록을 출력합니다. 고객은 구입하고자 하는 물건과 수량을 입력하고, 각종 할인 혜택의 적용 여부를 안내받을 수 있습니다.

## 로또 프로그램의 기능

- [ ] 파일로부터 입력받는 기능
    - 재고 목록을 입력받는다.
    - 프로모션 목록을 입력받는다.
- [ ] 사용자로부터 입력받는 기능
    - 구입할 상품과 수량을 입력받는다.
    - 사용자가 프로모션 적용 가능한 상품을 해당 수량보다 적게 가져온 경우, 추가 여부를 입력받는다.
    - 프로모션 재고가 부족하여 일부 수량을 정가로 결제해야 하는 경우, 이에 동의하는지 여부를 입력받는다.
    - 멤버십 할인 적용 여부를 입력받는다.
    - 추가 구매 여부를 입력받는다.
- [ ] 콘솔에 출력하는 기능
    - 환영 인사를 출력한다.
    - 현재 보유 중인 재고 목록과 프로모션을 출력한다.
    - 사용자가 프로모션 적용 가능한 상품을 해당 수량보다 적게 가져온 경우, 혜택에 대한 안내 메시지를 출력한다.
    - 프로모션 재고가 부족하여 일부 수량을 정가로 결제해야 하는 경우, 이에 동의하는지 출력한다.
    - 멤버십 할인 적용 여부 확인을 위한 메시지를 출력한다.
    - 구매 후 영수증을 출력한다.
    - 추가 구매 여부 확인을 위한 메시지를 출력한다.
- [ ] 편의점의 재고 관리 기능
    - 입력받은 상품과 수량으로부터 재고 목록을 파싱한다.
    - 현재 상품 목록을 정확하게 제공한다.
    - 고객이 상품을 구입할 때마다 재고를 차감하는데, 프로모션 재고를 우선 차감한다.
- [ ] 편의점의 프로모션 기능
    - 입력받은 프로모션 데이터에서 프로모션을 파싱한다.
    - 오늘 날짜가 프로모션 기간에 포함됐는지 검사한다.
    - 고객이 구입 요청한 수량이 프로모션 조건에 해당하는지 검사한다.
    - 프로모션 재고가 존재하는지 확인한다.
- [ ] 금액 계산 기능
    - 총 구매액을 계산한다.
    - 프로모션 할인을 계산한다.
    - 멤버십 할인을 받는 경우, 프로모션 미적용 금액의 30%를 할인한다.
        - 프로모션 적용 후 남은 금액에 대해 멤버십 할인을 적용한다.
        - 멤버십 할인의 최대 한도는 8,000원이다.
    - 최종 결제 금액을 계산한다.


## 로또 프로그램의 예외 상황

- [ ] 사용자가 존재하지 않는 상품을 구매하겠다고 입력한 경우
- [ ] 현재 보유 중인 재고 이상의 개수를 구매하겠다고 입력한 경우
- [ ] 구입할 개수를 음수, 소수, 문자로 입력한 경우
- [ ] 사용자에게 여부를 입력받을 때, Y/N 이외의 값을 입력한 경우

## 요구 사항

- JDK 21 버전에서 실행 가능해야 한다.
- 프로그램 실행의 시작점은 Application의 main()이다.
- build.gradle 파일은 변경할 수 없으며, 제공된 라이브러리 이외의 외부 라이브러리는 사용하지 않는다.
- 프로그램 종료 시 System.exit()를 호출하지 않는다.
- 프로그래밍 요구 사항에서 달리 명시하지 않는 한 파일, 패키지 등의 이름을 바꾸거나 이동하지 않는다.
- 자바 코드 컨벤션을 지키면서 프로그래밍한다.
    - 블럭 들여쓰기: +4 스페이스
    - 열 제한: 120
    - 들여쓰기 지속은 최소 +8 스페이스
    - 수직 빈 줄
- indent(인덴트, 들여쓰기) depth를 3이 넘지 않도록 구현한다. 2까지만 허용한다.
- 3항 연산자를 쓰지 않는다.
- 함수(또는 메서드)가 한 가지 일만 하도록 최대한 작게 만들어라.
- JUnit 5와 AssertJ를 이용하여 정리한 기능 목록이 정상적으로 작동하는지 테스트 코드로 확인한다.
- else 예약어를 쓰지 않는다.
- Java Enum을 이용하여 프로그램을 구현한다.
- 구현한 기능에 대한 단위 테스트를 구현한다. 단, UI 로직은 제외한다.
- 함수 또는 메서드의 길이가 10라인을 넘어가지 않도록 구현한다.
    - 함수 또는 메서드가 한 가지 일만 잘 하도록 구현한다.
- 입출력을 담당하는 클래스를 별도로 구현한다. (InputView, OutputView)

## 전 주차 피드백

- 함수(메서드) 라인에 대한 기준도 적용한다. -> 클래스 분리
- 예외 상황에 대해 고민한다.
- 비즈니스 로직과 UI 로직을 분리한다.
- 연관성이 있는 상수는 static final 대신 enum을 활용한다.
- final 키워드를 사용해 값의 변경을 막는다.
- 객체의 상태 접근을 제한한다.
- 객체는 객체답게 사용한다.
- 필드(인스턴스 변수)의 수를 줄이기 위해 노력한다.
- 성공하는 케이스 뿐만 아니라 예외 케이스도 테스트한다.
- 테스트 코드도 코드다.
- 테스트를 위한 코드는 구현 코드에서 분리되어야 한다.
- 단위 테스트하기 어려운 코드를 단위 테스트하기.
- private 함수를 테스트하고 싶다면 클래스 분리를 고려한다.

## 코드 컨벤션

- 한 메서드에 오직 한 단계의 들여쓰기(indent)만 허용
- else 예약어를 쓰지 않았는가?
- 모든 원시값과 문자열을 포장했는가?
- 콜렉션에 대해 일급 콜렉션을 적용했는가?
- 3개 이상의 인스턴스 변수를 가진 클래스를 구현하지 않았는가?
- getter/setter 없이 구현했는가?
- 메소드의 인자 수를 제한했는가?
- 코드 한 줄에 점(.)을 하나만 허용했는가?
- 메소드가 한가지 일만 담당하도록 구현했는가?
- 클래스를 작게 유지하기 위해 노력했는가?
